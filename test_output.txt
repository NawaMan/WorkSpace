========================================
Running Go Unit Tests Only
========================================
Skipping tests matching: TestIntegration_.*

----------------------------------------
Running: go test -v -skip "TestIntegration_.*" ./...
----------------------------------------

# github.com/nawaman/workspace/src/cmd/workspace
src/cmd/workspace/run.go:11:41: cannot use os.Args (variable of type []string) as init.InitializeAppContextBoundary value in argument to wsinit.InitializeAppContext: []string does not implement init.InitializeAppContextBoundary (missing method ArgList)
?   	github.com/nawaman/workspace/src/cmd/docker-build-color-manual-test	[no test files]
?   	github.com/nawaman/workspace/src/cmd/docker-interactive-manual-test	[no test files]
FAIL	github.com/nawaman/workspace/src/cmd/workspace [build failed]
=== RUN   TestAppConfig_Clone
--- PASS: TestAppConfig_Clone (0.00s)
=== RUN   TestAppConfig_ReadFromEnvVars
--- PASS: TestAppConfig_ReadFromEnvVars (0.00s)
=== RUN   TestAppContext_RoundTrip
--- PASS: TestAppContext_RoundTrip (0.00s)
=== RUN   TestAppContext_Immutability
--- PASS: TestAppContext_Immutability (0.00s)
=== RUN   TestAppContext_ConfigValues
--- PASS: TestAppContext_ConfigValues (0.00s)
=== RUN   TestAppContext_DerivedValues
--- PASS: TestAppContext_DerivedValues (0.00s)
=== RUN   TestAppContext_Lists
--- PASS: TestAppContext_Lists (0.00s)
=== RUN   TestAppContextBuilder_NilListsSafeguard
--- PASS: TestAppContextBuilder_NilListsSafeguard (0.00s)
=== RUN   TestAppContext_ListSliceDetachment
--- PASS: TestAppContext_ListSliceDetachment (0.00s)
PASS
ok  	github.com/nawaman/workspace/src/pkg/appctx	0.002s
=== RUN   TestDocker_DryrunMode
--- PASS: TestDocker_DryrunMode (0.00s)
=== RUN   TestDocker_VerboseMode
--- PASS: TestDocker_VerboseMode (0.02s)
=== RUN   TestDocker_Success
29.1.3
--- PASS: TestDocker_Success (0.03s)
=== RUN   TestDocker_Failure
docker: unknown command: docker invalid-subcommand-that-does-not-exist

Run 'docker --help' for more information
--- PASS: TestDocker_Failure (0.02s)
=== RUN   TestDocker_QuietMode
--- PASS: TestDocker_QuietMode (0.05s)
=== RUN   TestDocker_TTYFiltering
docker run -i --rm alpine:latest echo test 
docker run -i --rm alpine:latest echo test 
--- PASS: TestDocker_TTYFiltering (0.00s)
=== RUN   TestDocker_TTYFlagsPreservedInTTY
    docker_tty_test.go:33: Running with TTY: false
docker run -i --rm alpine:latest sh 
--- PASS: TestDocker_TTYFlagsPreservedInTTY (0.00s)
=== RUN   TestPrintCmd_SimpleArgs
=== RUN   TestPrintCmd_SimpleArgs/simple_command
=== RUN   TestPrintCmd_SimpleArgs/alphanumeric_args
=== RUN   TestPrintCmd_SimpleArgs/args_with_allowed_special_chars
--- PASS: TestPrintCmd_SimpleArgs (0.00s)
    --- PASS: TestPrintCmd_SimpleArgs/simple_command (0.00s)
    --- PASS: TestPrintCmd_SimpleArgs/alphanumeric_args (0.00s)
    --- PASS: TestPrintCmd_SimpleArgs/args_with_allowed_special_chars (0.00s)
=== RUN   TestPrintCmd_ComplexArgs
=== RUN   TestPrintCmd_ComplexArgs/arg_with_spaces
=== RUN   TestPrintCmd_ComplexArgs/arg_with_single_quote
=== RUN   TestPrintCmd_ComplexArgs/arg_with_multiple_single_quotes
=== RUN   TestPrintCmd_ComplexArgs/arg_with_special_chars
=== RUN   TestPrintCmd_ComplexArgs/empty_arg
--- PASS: TestPrintCmd_ComplexArgs (0.00s)
    --- PASS: TestPrintCmd_ComplexArgs/arg_with_spaces (0.00s)
    --- PASS: TestPrintCmd_ComplexArgs/arg_with_single_quote (0.00s)
    --- PASS: TestPrintCmd_ComplexArgs/arg_with_multiple_single_quotes (0.00s)
    --- PASS: TestPrintCmd_ComplexArgs/arg_with_special_chars (0.00s)
    --- PASS: TestPrintCmd_ComplexArgs/empty_arg (0.00s)
=== RUN   TestPrintCmd_RealWorldExamples
=== RUN   TestPrintCmd_RealWorldExamples/docker_build
=== RUN   TestPrintCmd_RealWorldExamples/docker_run_with_bash_command
--- PASS: TestPrintCmd_RealWorldExamples (0.00s)
    --- PASS: TestPrintCmd_RealWorldExamples/docker_build (0.00s)
    --- PASS: TestPrintCmd_RealWorldExamples/docker_run_with_bash_command (0.00s)
=== RUN   TestPrintCmd_OutputFormat
=== RUN   TestPrintCmd_OutputFormat/Test_1:_Simple_command
=== RUN   TestPrintCmd_OutputFormat/Test_2:_Command_with_spaces_needs_quoting
=== RUN   TestPrintCmd_OutputFormat/Test_3:_Command_with_single_quotes
=== RUN   TestPrintCmd_OutputFormat/Test_4:_Multiple_simple_args
=== RUN   TestPrintCmd_OutputFormat/Test_5:_Args_with_paths
=== RUN   TestPrintCmd_OutputFormat/Test_6:_Args_with_special_characters
=== RUN   TestPrintCmd_OutputFormat/Test_8:_Command_with_equals_sign_(gets_quoted)
=== RUN   TestPrintCmd_OutputFormat/Test_9:_Command_with_colons
=== RUN   TestPrintCmd_OutputFormat/Test_10:_Mixed_simple_and_complex_args
--- PASS: TestPrintCmd_OutputFormat (0.00s)
    --- PASS: TestPrintCmd_OutputFormat/Test_1:_Simple_command (0.00s)
    --- PASS: TestPrintCmd_OutputFormat/Test_2:_Command_with_spaces_needs_quoting (0.00s)
    --- PASS: TestPrintCmd_OutputFormat/Test_3:_Command_with_single_quotes (0.00s)
    --- PASS: TestPrintCmd_OutputFormat/Test_4:_Multiple_simple_args (0.00s)
    --- PASS: TestPrintCmd_OutputFormat/Test_5:_Args_with_paths (0.00s)
    --- PASS: TestPrintCmd_OutputFormat/Test_6:_Args_with_special_characters (0.00s)
    --- PASS: TestPrintCmd_OutputFormat/Test_8:_Command_with_equals_sign_(gets_quoted) (0.00s)
    --- PASS: TestPrintCmd_OutputFormat/Test_9:_Command_with_colons (0.00s)
    --- PASS: TestPrintCmd_OutputFormat/Test_10:_Mixed_simple_and_complex_args (0.00s)
=== RUN   TestEscapeArg
=== RUN   TestEscapeArg/escape_hello
=== RUN   TestEscapeArg/escape_hello_world
=== RUN   TestEscapeArg/escape_it's
=== RUN   TestEscapeArg/escape_don't
=== RUN   TestEscapeArg/escape_'quoted'
=== RUN   TestEscapeArg/escape_
=== RUN   TestEscapeArg/escape_$VAR
=== RUN   TestEscapeArg/escape_a'b'c
--- PASS: TestEscapeArg (0.00s)
    --- PASS: TestEscapeArg/escape_hello (0.00s)
    --- PASS: TestEscapeArg/escape_hello_world (0.00s)
    --- PASS: TestEscapeArg/escape_it's (0.00s)
    --- PASS: TestEscapeArg/escape_don't (0.00s)
    --- PASS: TestEscapeArg/escape_'quoted' (0.00s)
    --- PASS: TestEscapeArg/escape_ (0.00s)
    --- PASS: TestEscapeArg/escape_$VAR (0.00s)
    --- PASS: TestEscapeArg/escape_a'b'c (0.00s)
=== RUN   TestHasInteractiveTTY
    tty_test.go:18: HasInteractiveTTY: false
    tty_test.go:19: IsStdinTTY: false
    tty_test.go:20: IsStdoutTTY: false
--- PASS: TestHasInteractiveTTY (0.00s)
=== RUN   TestDockerBuild_Silent
    docker_build_test.go:42: ✓ Silent build completed (no output expected)
--- PASS: TestDockerBuild_Silent (0.36s)
=== RUN   TestDockerBuild_Normal
docker build '--progress=auto' -t test-normal:latest -f /tmp/TestDockerBuild_Normal3389289437/001/Dockerfile /tmp/TestDockerBuild_Normal3389289437/001 
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 110B done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/alpine:latest
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/2] FROM docker.io/library/alpine:latest
#4 DONE 0.0s

#5 [2/2] RUN echo "Building normally..."
#5 CACHED

#6 exporting to image
#6 exporting layers done
#6 writing image sha256:8512c7b338754f7773219e1633451225d9ac103a17792f6cdddcad1f94f35dfe done
#6 naming to docker.io/library/test-normal:latest done
#6 DONE 0.0s
    docker_build_test.go:76: ✓ Normal build completed (output expected)
--- PASS: TestDockerBuild_Normal (0.25s)
=== RUN   TestDockerBuild_Dryrun
docker build -t test:latest . 
    docker_build_test.go:93: ✓ Dryrun completed (no execution)
--- PASS: TestDockerBuild_Dryrun (0.00s)
PASS
ok  	github.com/nawaman/workspace/src/pkg/docker	0.733s
=== RUN   TestNewListFromSlice
--- PASS: TestNewListFromSlice (0.00s)
=== RUN   TestAtPanic
--- PASS: TestAtPanic (0.00s)
=== RUN   TestAppendableListSlice
--- PASS: TestAppendableListSlice (0.00s)
=== RUN   TestSnapshotImmutability
--- PASS: TestSnapshotImmutability (0.00s)
=== RUN   TestNewAppendableListFromDeepCopy
--- PASS: TestNewAppendableListFromDeepCopy (0.00s)
=== RUN   TestExtendBySliceDeepCopy
--- PASS: TestExtendBySliceDeepCopy (0.00s)
=== RUN   TestCloneIndependence
--- PASS: TestCloneIndependence (0.00s)
=== RUN   TestDockerArgsWorkflow
--- PASS: TestDockerArgsWorkflow (0.00s)
=== RUN   TestExtendByList
--- PASS: TestExtendByList (0.00s)
=== RUN   TestMultipleSnapshots
--- PASS: TestMultipleSnapshots (0.00s)
=== RUN   TestToBuilderDeepCopy
--- PASS: TestToBuilderDeepCopy (0.00s)
=== RUN   TestSliceDeepCopy
--- PASS: TestSliceDeepCopy (0.00s)
=== RUN   TestRange
--- PASS: TestRange (0.00s)
=== RUN   TestGetOutOfBounds
--- PASS: TestGetOutOfBounds (0.00s)
=== RUN   TestExtendByListsDeepCopy
--- PASS: TestExtendByListsDeepCopy (0.00s)
=== RUN   TestExtendByListsMultiple
--- PASS: TestExtendByListsMultiple (0.00s)
=== RUN   TestExtendByListsEmpty
--- PASS: TestExtendByListsEmpty (0.00s)
=== RUN   TestExtendByListsNoArgs
--- PASS: TestExtendByListsNoArgs (0.00s)
=== RUN   TestSemicolonStringList_Decode
=== RUN   TestSemicolonStringList_Decode/Empty
=== RUN   TestSemicolonStringList_Decode/Whitespace
=== RUN   TestSemicolonStringList_Decode/Single
=== RUN   TestSemicolonStringList_Decode/Multiple
=== RUN   TestSemicolonStringList_Decode/TrimEdges
=== RUN   TestSemicolonStringList_Decode/SkipEmpty
=== RUN   TestSemicolonStringList_Decode/Complex
--- PASS: TestSemicolonStringList_Decode (0.00s)
    --- PASS: TestSemicolonStringList_Decode/Empty (0.00s)
    --- PASS: TestSemicolonStringList_Decode/Whitespace (0.00s)
    --- PASS: TestSemicolonStringList_Decode/Single (0.00s)
    --- PASS: TestSemicolonStringList_Decode/Multiple (0.00s)
    --- PASS: TestSemicolonStringList_Decode/TrimEdges (0.00s)
    --- PASS: TestSemicolonStringList_Decode/SkipEmpty (0.00s)
    --- PASS: TestSemicolonStringList_Decode/Complex (0.00s)
=== RUN   TestSemicolonStringList_Clone
--- PASS: TestSemicolonStringList_Clone (0.00s)
PASS
ok  	github.com/nawaman/workspace/src/pkg/ilist	0.002s
?   	github.com/nawaman/workspace/src/pkg/nillable	[no test files]
=== RUN   TestWorkspace_runAsCommand_DryrunMode
--- PASS: TestWorkspace_runAsCommand_DryrunMode (0.00s)
=== RUN   TestWorkspace_runAsCommand_WithDind
--- PASS: TestWorkspace_runAsCommand_WithDind (0.00s)
=== RUN   TestWorkspace_runAsCommand_WithDindNoNetwork
--- PASS: TestWorkspace_runAsCommand_WithDindNoNetwork (0.00s)
=== RUN   TestWorkspace_runAsCommand_WithoutDind
--- PASS: TestWorkspace_runAsCommand_WithoutDind (0.00s)
=== RUN   TestWorkspace_runAsCommand_EmptyCommands
--- PASS: TestWorkspace_runAsCommand_EmptyCommands (0.00s)
=== RUN   TestWorkspace_runAsCommand_ArgumentOrder
--- PASS: TestWorkspace_runAsCommand_ArgumentOrder (0.00s)
=== RUN   TestWorkspace_runAsDaemon_DryrunMode
--- PASS: TestWorkspace_runAsDaemon_DryrunMode (0.00s)
=== RUN   TestWorkspace_runAsDaemon_WithDind
--- PASS: TestWorkspace_runAsDaemon_WithDind (0.00s)
=== RUN   TestWorkspace_runAsDaemon_NoCommands
--- PASS: TestWorkspace_runAsDaemon_NoCommands (0.00s)
=== RUN   TestWorkspace_runAsDaemon_WithKeepalive
--- PASS: TestWorkspace_runAsDaemon_WithKeepalive (0.00s)
=== RUN   TestWorkspace_runAsForeground_DryrunMode
--- PASS: TestWorkspace_runAsForeground_DryrunMode (0.00s)
=== RUN   TestWorkspace_runAsForeground_WithDind
--- PASS: TestWorkspace_runAsForeground_WithDind (0.00s)
=== RUN   TestWorkspace_Run_DaemonMode
--- PASS: TestWorkspace_Run_DaemonMode (0.00s)
=== RUN   TestWorkspace_Run_ForegroundMode
--- PASS: TestWorkspace_Run_ForegroundMode (0.00s)
=== RUN   TestWorkspace_Run_CommandMode
--- PASS: TestWorkspace_Run_CommandMode (0.00s)
PASS
ok  	github.com/nawaman/workspace/src/pkg/workspace	0.003s
=== RUN   TestInitializeAppContext_ScenarioA_DefaultConfig_NoConfig
--- PASS: TestInitializeAppContext_ScenarioA_DefaultConfig_NoConfig (0.00s)
=== RUN   TestInitializeAppContext_ScenarioB_DefaultConfig_WithDefaultConfig
--- PASS: TestInitializeAppContext_ScenarioB_DefaultConfig_WithDefaultConfig (0.00s)
=== RUN   TestInitializeAppContext_ScenarioC_DefaultConfigAndCliConfig_CliConfigWins
--- PASS: TestInitializeAppContext_ScenarioC_DefaultConfigAndCliConfig_CliConfigWins (0.00s)
=== RUN   TestInitializeAppContext_ScenarioD_DefaultConfigAndCliConfig_CliConfigWins
--- PASS: TestInitializeAppContext_ScenarioD_DefaultConfigAndCliConfig_CliConfigWins (0.00s)
=== RUN   TestInitializeAppContext_ScenarioE_DefaultConfigAndCliConfig_CliConfigWins
--- PASS: TestInitializeAppContext_ScenarioE_DefaultConfigAndCliConfig_CliConfigWins (0.00s)
=== RUN   TestInitializeAppContext_ScenarioD_DefaultConfigAndEnvConfig_DefaultConfigWins
--- PASS: TestInitializeAppContext_ScenarioD_DefaultConfigAndEnvConfig_DefaultConfigWins (0.00s)
=== RUN   TestInitializeAppContext_ScenarioE_EnvConfig_DefaultConfigWins
--- PASS: TestInitializeAppContext_ScenarioE_EnvConfig_DefaultConfigWins (0.00s)
=== RUN   TestInitializeAppContext_ScenarioF_DefaultConfigAndEnvConfig_DefaultConfigWins
--- PASS: TestInitializeAppContext_ScenarioF_DefaultConfigAndEnvConfig_DefaultConfigWins (0.00s)
=== RUN   TestInitializeAppContext_ScenarioG_DefaultWorkspaceAndCliWorkspace_CliConfigWins
--- PASS: TestInitializeAppContext_ScenarioG_DefaultWorkspaceAndCliWorkspace_CliConfigWins (0.00s)
=== RUN   TestGetProjectName
=== RUN   TestGetProjectName/Simple
=== RUN   TestGetProjectName/WithSpaces
=== RUN   TestGetProjectName/WithSpecialChars
=== RUN   TestGetProjectName/Empty
=== RUN   TestGetProjectName/Root
--- PASS: TestGetProjectName (0.00s)
    --- PASS: TestGetProjectName/Simple (0.00s)
    --- PASS: TestGetProjectName/WithSpaces (0.00s)
    --- PASS: TestGetProjectName/WithSpecialChars (0.00s)
    --- PASS: TestGetProjectName/Empty (0.00s)
    --- PASS: TestGetProjectName/Root (0.00s)
=== RUN   TestGetScriptName
=== RUN   TestGetScriptName/Standard
=== RUN   TestGetScriptName/Relative
=== RUN   TestGetScriptName/Empty
--- PASS: TestGetScriptName (0.00s)
    --- PASS: TestGetScriptName/Standard (0.00s)
    --- PASS: TestGetScriptName/Relative (0.00s)
    --- PASS: TestGetScriptName/Empty (0.00s)
=== RUN   TestNeedValue
--- PASS: TestNeedValue (0.00s)
=== RUN   TestReadVerboseDryrunConfigFileAndWorkspace
--- PASS: TestReadVerboseDryrunConfigFileAndWorkspace (0.00s)
=== RUN   TestParseArgs
--- PASS: TestParseArgs (0.00s)
=== RUN   TestGetScriptDir
=== RUN   TestGetScriptDir/Empty
=== RUN   TestGetScriptDir/Simple
--- PASS: TestGetScriptDir (0.00s)
    --- PASS: TestGetScriptDir/Empty (0.00s)
    --- PASS: TestGetScriptDir/Simple (0.00s)
PASS
ok  	github.com/nawaman/workspace/src/pkg/workspace/init	0.004s
FAIL

✗ Go unit tests FAILED.
========================================
